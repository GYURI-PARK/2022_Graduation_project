<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>보행자 맞춤형 길찾기 서비스</title>
    <meta name="description" content="보행자 맞춤형 길찾기 서비스" />
    <meta name="keywords" content="길찾기, 길안내" />
    <meta name="author" content="GYURI PARK" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, 
    maximum-scale=1.0, minimum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta property="og:type" content="website" />
    <meta property="og:title" content="보행자 맞춤형 길찾기 서비스" />
    <meta property="og:description" content="쾌적성과 안전성 기반의 길안내" />
    <meta property="og:image" content="미리보기 이미지" /> <!--나중에 입력 -->
    <meta property="og:url" content="홈페이지url" /> <!--나중에 입력!!!!-->
    <meta property="og:site_name" content="UOS_2022_졸업작품" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="보행자 맞춤형 길찾기 서비스" />
    <meta name="twitter:description" content="쾌적성과 안전성 기반의 길안내" />
    <meta name="twitter:image" content="미리보기 이미지" />  <!--나중에 입력!!!!-->   
    <meta name="twitter:url" content="홈페이지url" /> <!--나중에 입력!!!!-->
    <meta name="twitter:creator" content="GYURI PARK" /> 

    <link rel="icon" href="img/homepage_icon/854929.png" />
    <link rel="apple-touch-icon" href="img/homepage_icon/854929.png" />
    <link rel="short icon" type="image/x-icon" href="img/homepage_icon/854929.png" />

    <link rel="stylesheet" href="css/nomalize.css" />
    <script src="https://kit.fontawesome.com/2075dc15a5.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <div class="inner">
        <div class="head-container">
            <div class="head-menu"> <a href = "https://uos-urbanscience.org/search-portfolio">
              <img src="img/body_header/menu.png" alt = "menu bar" height="30px"></a></div>
            <div class="head-appname"><a href = "https://uos-urbanscience.org/search-portfolio"> DayRoad </a></div>
            <div class="head-portfolio"> <a href = "https://uos-urbanscience.org/search-portfolio">
              <i class="fas fa-solid fa-globe globe"></i>
            </a></div>
        </div>
    </div>
  </header>

  <section>
    <div class="inner">
      <div class="loca-container">
        <div class="arrow">
          <i class="fas fa-solid fa-arrow-up-arrow-down"></i>
        </div>
        <div class="choice-container">
          <div class="start-container">
            <div class="start-title"> 출발지 : </div>
            <input id='start-point' onkeyup='printName()' placeholder='출발 장소 입력하기'/>
            <!--<div class="start-point"> &nbsp; 출발 장소 입력하기 </div>-->
            <!-- <div class="start-point"> &nbsp; 출발 장소 입력하기 </div> -->
            <div class="xmark"><img src="img/xmark.png" alt ="xmark" height ="20px"></div>
          </div>
          
          <div class="end-container">
            <div class="end-title"> 도착지 : </div>
            <input id='end-point' onkeyup='printName()' placeholder='도착 장소 입력하기'/>
            <!--<div class="end-point"> &nbsp;  도착 장소 입력하기 </div>-->
            <!-- <div class="end-point"> &nbsp;  도착 장소 입력하기 </div> -->
            <div class="xmark"><img src="img/xmark.png" alt ="xmark" height ="20px"></div>
          </div>
        </div>
      </div>    
    </div>
  </section>


  <section>
    <div class="button-container">
      <div class="now-location">
        <div class="nowloca-icon"></div>
        <div class="nowloca-mess">현재 위치 입력하기</div>
      </div>
      <div class="find-path">
        <div class="findpath-icon"></div>
        <div class="findpath-mess">경로 탐색하기</div>
      </div>
    </div>
  </section>



  <section>
    <div id ="map" style="width:100%; height:350px;">
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=7deddde33d25b480204f267a6f10971c"></script>
    <script>
      var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
      mapOption = { 
        center: new kakao.maps.LatLng(37.5644783, 126.9220027), // 지도의 중심좌표
        level: 4 // 지도의 확대 레벨 
      }; 
      var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다      
      var geocoder = new kakao.maps.services.Geocoder(); // 주소-좌표 변환 객체를 생성합니다
      //var startpoint = document.getElementById('start-point').value;
      //var endpoint = document.getElementById('end-point').value;
      geocoder.addressSearch('서울시 강남구 개포로 17길 12', function(result, status) {
      
      // 정상적으로 검색이 완료됐으면 
      if (status === kakao.maps.services.Status.OK) {

      var coords = new kakao.maps.LatLng(result[0].y, result[0].x);
      
      // 결과값으로 받은 위치를 마커로 표시합니다
      var marker = new kakao.maps.Marker({
          map: map,
          position: coords
      });

    // 인포윈도우로 장소에 대한 설명을 표시합니다
    var infowindow = new kakao.maps.InfoWindow({
        content: '<div style="width:150px;text-align:center;padding:6px 0;">출발점</div>'
    });
    infowindow.open(map, marker);

    // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
    map.setCenter(coords);
    } 
});  
/*
      var lat;
      var lon;
      var options = {
        enableHighAccuracy : true,
        timeout : 5000,   
        maximumAge : 0
      };

      function success(position){
        console.log(position);
        lat = position.coords.latitude //위도
        lon = position.coords.longitude //경도

        var locPosition = new kakao.maps.LatLng(lat, lon)
        message = '<div style ="padding:5px;"> 현재 위치가 맞나요?</div>'

        displayMarker(locPosition, message);
      };

      function error(err) {
        console.log(err);
      };

// HTML5의 geolocation으로 사용할 수 있는지 확인합니다 
      if (navigator.geolocation) {
        alert('위치 정보 확인')
        navigator.geolocation.getCurrentPosition(function(position) {
          var lat = position.coords.latitude, // 위도
              lon = position.coords.longitude; // 경도
        
          var locPosition = new kakao.maps.LatLng(lat, lon), // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다
                  message = '<div style="padding:5px;">여기에 계신가요?!</div>'; // 인포윈도우에 표시될 내용입니다
        
          // 마커와 인포윈도우를 표시합니다
          displayMarker(locPosition, message);
            
        });
      } else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다
          var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
          message = 'geolocation을 사용할수 없어요..'
        
          displayMarker(locPosition, message);
        }

      function displayMarker(locPosition, message) {
        console.log(1);
        if(flag){
          marker.setMap(null);
        }

        marker = new kakao.maps.Marker({  
          position: locPosition
        });
        marker.setMap(map);
        flag = true;

        marker.setCenter(locPosition);
      }
*/
    </script>
    </div>
  </section> 
    </script>
    </div>
  </section> 

  <footer>
        <div class="footer-container">
          <img src="img/footer_icon/left_white.png" alt ="point icon" height="30px">
          <img src="img/footer_icon/home.png" alt="home icon" height="30px">
          <img src = "img/footer_icon/person_white.png" alt ="peron icon" height="30px">
        </div>      
  </footer>
  <a id="backtotop" class="show"></a>
  <script src="js/main.js"></script>  
</body>
</html>
